<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Habit Log Login</title>
  </head>
  <body>
    <main>
      <h1>Habit Log</h1>
      {% if already_authenticated %}
        <p>Authenticated.</p>
        <p><a href="{{ url_for('logout') }}">Log out</a></p>
      {% else %}
        {% if error %}
          <p>{{ error }}</p>
        {% endif %}
        <form method="post" action="{{ url_for('login_submit') }}">
          <label for="password">Password</label>
          <input id="password" name="password" type="password" required autofocus>
          <label>
            <input
              id="remember_device"
              name="remember_device"
              type="checkbox"
              value="1"
              {% if remember_device %}checked{% endif %}
            >
            Remember this device
          </label>
          <input type="hidden" name="next" value="{{ next or '/' }}">
          <button type="submit">Log in</button>
        </form>
      {% endif %}
    </main>
  </body>
</html>
